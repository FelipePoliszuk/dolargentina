<header
  class="bg-gray-100 dark:bg-gray-800 w-full flex justify-between items-center dark:shadow-lg shadow-sm lg:py-7 lg:px-11 md:py-5 md:px-8 py-2 px-2"
>
  <div class="flex items-center gap-4">
    <span class="lg:text-6xl text-5xl">$</span>
    <div>
      <h1 class="lg:text-4xl md:text-3xl text-2xl">Cotizaciones de DÃ³lar</h1>
      <p class="lg:text-[16px] text-[12px]">
        Valores actualizados de compra y venta
      </p>
    </div>
  </div>
  <div class="flex items-center gap-6">
    <button
      id="theme-toggle"
      class="p-2 rounded-full border border-gray-500 dark:border-gray-100 hover:scale-[1.1]"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-moon"
        id="moon-icon"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg
      >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="lucide lucide-sun"
        id="sun-icon"
        ><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path
          d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path
          d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path
          d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path
          d="m19.07 4.93-1.41 1.41"></path></svg
      >
    </button>
    <a
      class="hover:scale-[1.1]"
      target="_blank"
      rel="noopener noreferrer"
      href="https://github.com/FelipePoliszuk/dolargentina"
    >
      <img
        class="lg:w-[42px] w-[32px] svg-invert"
        src="/github.svg"
        alt="GitHub"
      />
    </a>
  </div>
</header>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    document.documentElement.classList.add("loaded");
    const button = document.getElementById("theme-toggle");
    const html = document.documentElement;
    const moon = document.getElementById("moon-icon");
    const sun = document.getElementById("sun-icon");

    // Cargar tema guardado o usar preferencia del sistema
    const savedTheme = localStorage.getItem("theme");

    if (
      savedTheme === "dark" ||
      (!savedTheme && window.matchMedia("(prefers-color-scheme: dark)").matches)
    ) {
      html.classList.add("dark");
    } else {
      html.classList.remove("dark");
    }

    // Mostrar el icono correcto desde el inicio
    if (html.classList.contains("dark")) {
      moon.classList.add("hidden");
      sun.classList.remove("hidden");
    } else {
      sun.classList.add("hidden");
      moon.classList.remove("hidden");
    }

    // Cambiar tema al hacer clic
    button.addEventListener("click", () => {
      const isDark = html.classList.toggle("dark");

      localStorage.setItem("theme", isDark ? "dark" : "light");

      moon.classList.toggle("hidden", isDark);
      sun.classList.toggle("hidden", !isDark);
    });
  });
</script>
